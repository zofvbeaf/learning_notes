## etcd

+ `etcd`是一个可靠的分布式`KV`存储，其底层是属于`Raft`算法保证一致性，用于**服务发现**和**共享配置**
  + **服务发现**：系统中有多个服务，使用服务发现组件可以避免预先将各个服务的地址信息写在配置文件中，当服务不可用或新上限时，调用方能及时感知，并且可以做负载均衡。
  + **共享配置**：系统的各种配置信息共享，如数据库地址，连接配置等。便于变更和监测。
+ `etcd` 的使用其实非常简单，它对外提供了 `gRPC` 接口，我们可以通过 `Protobuf` 和 `gRPC` 直接对 `etcd` 中存储的数据进行管理，也可以使用官方提供的 `etcdctl` 操作存储的数据。
+ 在`etcd v3`版本中，其底层存储使用的是`BoltDB`。
+ etcd存放的数据格式为 `<main_revision:sub_revision, value>`
  + `main_revision`为事务版本号，`etcd`为每次事务维护了一个全局自增的版本号。
  + `sub_revision`是事务中每个操作的编号。